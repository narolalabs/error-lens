"use strict";

function makeModal (id, className, html, dialogSize = 'modal-lg', shouldOpen = false) {	
	let modal = `
		<div class="offcanvas offcanvas-end ${className}" tabindex="-1" id="${id}" aria-labelledby="offcanvasRightLabel">
		    ${html}
		</div>
	`;

	$('body').append(modal);
	let $modal = $(document).find(`#${id}`);
	if ( $modal.length ) {
		let myOffcanvas = $modal[0];
		myOffcanvas.addEventListener('hidden.bs.offcanvas', function () {
		  	$modal.remove();
		})

		if ( shouldOpen ) {
			let bsOffcanvas = new bootstrap.Offcanvas(myOffcanvas)
			bsOffcanvas.show();
		}
	}
}

$(document).on('click', '#clear-logs', function(event) {
	event.preventDefault();
	if ( confirm('Are you sure you want to clear all logs?') ) {
		$(this).closest('form').submit();
	}
});

